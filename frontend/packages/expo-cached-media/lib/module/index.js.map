{"version":3,"names":["Video","FileSystem","React","useEffect","useState","useRef","forwardRef","Image","ImageBackground","StyleSheet","View","MEDIA_CACHE_FOLDER","cacheDirectory","getProgressPercent","totalBytesWritten","totalBytesExpectedToWrite","decimalPlace","arguments","length","undefined","rawPercentage","Number","toFixed","getProgress","rawProgress","getFileNameFromUri","uri","substring","lastIndexOf","split","CacheManager","addToCacheAsync","_ref","file","key","copyAsync","from","to","getCachedUriAsync","_ref2","getContentUriAsync","downloadAsync","_ref3","options","createCachedMediaElement","name","CachedMediaElement","props","ref","progress","updateProgress","current","source","cacheKey","placeholderContent","createElement","style","styles","flexFill","children","rest","headers","expiresIn","fileUri","_callback","downloadProgress","componentIsMounted","downloadResumableRef","pauseAsync","deleteAsync","idempotent","mediaUri","setMediaUri","requestOption","createDownloadResumable","loadMedia","metadata","getInfoAsync","expired","Date","getTime","modificationTime","exists","size","response","status","err","console","log","_extends","videoStyle","width","height","imageStyle","displayName","CachedImage","CachedVideo","create","flex","alignItems","justifyContent"],"sourceRoot":"../../src","sources":["index.tsx"],"mappings":";AAAA,SAASA,KAAK,QAAoB,SAAS;AAC3C,OAAO,KAAKC,UAAU,MAAM,kBAAkB;AAC9C,OAAOC,KAAK,IACVC,SAAS,EACTC,QAAQ,EACRC,MAAM;AACN;AACAC;AACA;AAAA,OACK,OAAO;AACd,SACEC,KAAK,EACLC,eAAe,EAKfC,UAAU,EACVC,IAAI,QACC,cAAc;AAqBrB,OAAO,MAAMC,kBAAkB,GAAI,GAAEV,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEW,cAAe,EAAC;AACjE;;AAEA;AACA;AACA;;AAEA;AACA,OAAO,MAAMC,kBAAkB,GAAG,SAAAA,CAChCC,iBAAyB,EACzBC,yBAAiC,EAE9B;EAAA,IADHC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAEhB,MAAMG,aAAa,GAAIN,iBAAiB,GAAGC,yBAAyB,GAAI,GAAG;EAC3E,OAAOM,MAAM,CAACD,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEE,OAAO,CAACN,YAAY,CAAC,CAAC;AACrD,CAAC;;AAED;AACA,OAAO,MAAMO,WAAW,GAAG,SAAAA,CACzBT,iBAAyB,EACzBC,yBAAiC,EAE9B;EAAA,IADHC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAEhB,MAAMO,WAAW,GAAGV,iBAAiB,GAAGC,yBAAyB;EACjE,OAAOM,MAAM,CAACG,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEF,OAAO,CAACN,YAAY,CAAC,CAAC;AACnD,CAAC;AAED,OAAO,MAAMS,kBAAkB,GAAIC,GAAW,IAAK;EACjD,OAAOA,GAAG,CACPC,SAAS,CAACD,GAAG,CAACE,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CACnCC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACbA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC;AAED,MAAMC,YAAY,GAAG;EACnBC,eAAe,EAAE,MAAAC,IAAA,IAMX;IAAA,IANkB;MACtBC,IAAI;MACJC,GAAG,GAAGT,kBAAkB,CAACQ,IAAI;IAI/B,CAAC,GAAAD,IAAA;IACC,MAAM/B,UAAU,CAACkC,SAAS,CAAC;MACzBC,IAAI,EAAEH,IAAI;MACVI,EAAE,EAAG,GAAE1B,kBAAmB,GAAEuB,GAAI;IAClC,CAAC,CAAC;IACF;;IAEA,MAAMR,GAAG,GAAG,MAAMI,YAAY,CAACQ,iBAAiB,CAAC;MAAEJ;IAAI,CAAC,CAAC;IACzD,OAAOR,GAAG;EACZ,CAAC;EAEDY,iBAAiB,EAAE,MAAAC,KAAA,IAAoC;IAAA,IAA7B;MAAEL;IAAqB,CAAC,GAAAK,KAAA;IAChD,MAAMb,GAAG,GAAG,MAAMzB,UAAU,CAACuC,kBAAkB,CAC5C,GAAE7B,kBAAmB,GAAEuB,GAAI,EAAC,CAC9B;IACD,OAAOR,GAAG;EACZ,CAAC;EAEDe,aAAa,EAAE,MAAAC,KAAA,IAQT;IAAA,IARgB;MACpBhB,GAAG;MACHQ,GAAG,GAAGT,kBAAkB,CAACC,GAAG,CAAC;MAC7BiB;IAKF,CAAC,GAAAD,KAAA;IACC,OAAO,MAAMzC,UAAU,CAACwC,aAAa,CACnCf,GAAG,EACF,GAAEf,kBAAmB,GAAEuB,GAAI,EAAC,EAC7BS,OAAO,CACR;EACH;AACF,CAAC;AAED,SAASC,wBAAwBA,CAAIC,IAAmC,EAAE;EACxE,MAAMC,kBAAkB,gBAAGxC,UAAU,CAGnC,CAACyC,KAAK,EAAEC,GAAG,KAAK;IAChB,MAAMC,QAAQ,GAAG5C,MAAM,CAAkC;MACvDS,iBAAiB,EAAE,CAAC;MACpBC,yBAAyB,EAAE;IAC7B,CAAC,CAAC;IACF,MAAM,CAAC;MAAED,iBAAiB;MAAEC;IAA0B,CAAC,EAAEmC,cAAc,CAAC,GACtE9C,QAAQ,CAAkC6C,QAAQ,CAACE,OAAO,CAAC;IAE7D,MAAM;MACJC,MAAM;MACNC,QAAQ,GAAG5B,kBAAkB,CAAC2B,MAAM,CAAC1B,GAAG,CAAC;MACzC4B,kBAAkB,GAAGA,CAAA,kBAAMpD,KAAA,CAAAqD,aAAA,CAAC7C,IAAI;QAAC8C,KAAK,EAAEC,MAAM,CAACC;MAAS,EAAG;MAC3DC,QAAQ;MACRC;IACF,CAAC,GAAGb,KAAK;IACT,MAAM;MAAErB,GAAG;MAAEmC,OAAO;MAAEC;IAAgC,CAAC,GAAGV,MAAM;IAChE,MAAMW,OAAO,GAAI,GAAEpD,kBAAmB,GAAE0C,QAAS,EAAC;IAElD,MAAMW,SAAS,GAAIC,gBAAiD,IAAK;MACvE,IAAIC,kBAAkB,CAACf,OAAO,KAAK,KAAK,EAAE;QACxCgB,oBAAoB,CAAChB,OAAO,CAACiB,UAAU,EAAE;QACzCnE,UAAU,CAACoE,WAAW,CAACN,OAAO,EAAE;UAAEO,UAAU,EAAE;QAAK,CAAC,CAAC,EAAC;MACxD;;MAEArB,QAAQ,CAACE,OAAO,GAAGc,gBAAgB;MACnCf,cAAc,CAACD,QAAQ,CAACE,OAAO,CAAC;IAClC,CAAC;IAED,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGpE,QAAQ,CAAgB2D,OAAO,CAAC;IAEhE,MAAMG,kBAAkB,GAAG7D,MAAM,CAAC,IAAI,CAAC;IACvC,MAAMoE,aAAa,GAAGZ,OAAO,GAAG;MAAEA;IAAQ,CAAC,GAAG,CAAC,CAAC;IAChD,MAAMM,oBAAoB,GAAG9D,MAAM,CACjCJ,UAAU,CAACyE,uBAAuB,CAChChD,GAAG,EACHqC,OAAO,EACPU,aAAa,EACbT,SAAS,CACV,CACF;IAED7D,SAAS,CAAC,MAAM;MACdwE,SAAS,EAAE;MACX,OAAO,MAAM;QACXT,kBAAkB,CAACf,OAAO,GAAG,KAAK;MACpC,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,EAAC;;IAEP,MAAMwB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF;QACA,MAAMC,QAA6B,GAAG,MAAM3E,UAAU,CAAC4E,YAAY,CACjEd,OAAO,CACR;QACD,MAAMe,OAAO,GACXhB,SAAS,IACT,kBAAkB,IAAIc,QAAQ,IAC9B,IAAIG,IAAI,EAAE,CAACC,OAAO,EAAE,GAAG,IAAI,GAAGJ,QAAQ,CAACK,gBAAgB,GAAGnB,SAAS;QAErE,IAAI,CAACc,QAAQ,CAACM,MAAM,IAAI,CAAAN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,IAAI,MAAK,CAAC,IAAIL,OAAO,EAAE;UACvD,IAAIZ,kBAAkB,CAACf,OAAO,EAAE;YAC9BqB,WAAW,CAAC,IAAI,CAAC;YAEjB,IAAIM,OAAO,EAAE;cACX,MAAM7E,UAAU,CAACoE,WAAW,CAACN,OAAO,EAAE;gBAAEO,UAAU,EAAE;cAAK,CAAC,CAAC;YAC7D;YACA;YACAE,WAAW,CAAC,IAAI,CAAC;YAEjB,MAAMY,QAAQ,GAAG,MAAMjB,oBAAoB,CAAChB,OAAO,CAACV,aAAa,EAAE;YACnE,IAAI,CAAA2C,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,MAAM,MAAK,GAAG,EAAE;cAC5Bb,WAAW,CAAE,GAAET,OAAQ,GAAE,CAAC,EAAC;YAC7B;;YACA,IAAI,CAAAqB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,MAAM,MAAK,GAAG,EAAE;cAC5BpF,UAAU,CAACoE,WAAW,CAACN,OAAO,EAAE;gBAAEO,UAAU,EAAE;cAAK,CAAC,CAAC,EAAC;YACxD;UACF;QACF;MACF,CAAC,CAAC,OAAOgB,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC;UAAEF;QAAI,CAAC,CAAC;MACtB;IACF,CAAC;IAED,IAAI,CAACf,QAAQ,EACX,OACEjB,kBAAkB,CAAC;MAAExC,iBAAiB;MAAEC;IAA0B,CAAC,CAAC,IACpE,IAAI;IAGR,IAAI8B,IAAI,KAAK,aAAa,EAAE;MAC1B,oBACE3C,KAAA,CAAAqD,aAAA,CAACvD,KAAK,EAAAyF,QAAA,KACC1C,KAAK;QACVK,MAAM,EAAE;UACN,GAAGA,MAAM;UACT1B,GAAG,EAAE6C;QACP,CAAE;QACFf,KAAK,EAAE,CAACC,MAAM,CAACC,QAAQ,EAAEX,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAES,KAAK,CAAE;QACvCkC,UAAU,EAAE,CAAC;UAAEC,KAAK,EAAE,MAAM;UAAEC,MAAM,EAAE;QAAO,CAAC,EAAEhC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8B,UAAU,CAAE;QAClE1C,GAAG,EAAEA;MAAiC,GACtC;IAEN;IACA,IAAIH,IAAI,KAAK,aAAa,IAAIc,QAAQ,EAAE;MACtC,oBACEzD,KAAA,CAAAqD,aAAA,CAAC/C,eAAe,EAAAiF,QAAA,KACT1C,KAAK;QACVK,MAAM,EAAE;UACN,GAAGA,MAAM;UACT1B,GAAG,EAAE6C;QACP,CAAE;QACFf,KAAK,EAAE,CAACC,MAAM,CAACC,QAAQ,EAAEX,KAAK,CAACS,KAAK,CAAE;QACtCqC,UAAU,EAAE,CAAC;UAAEF,KAAK,EAAE,MAAM;UAAEC,MAAM,EAAE;QAAO,CAAC,EAAEhC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEiC,UAAU,CAAE;QAClE7C,GAAG,EAAEA;MAA2C,IAE/CW,QAAQ,CACO;IAEtB;IACA,oBACEzD,KAAA,CAAAqD,aAAA,CAAChD,KAAK,EAAAkF,QAAA,KACC1C,KAAK;MACVK,MAAM,EAAE;QACN,GAAGA,MAAM;QACT1B,GAAG,EAAE6C;MACP,CAAE;MACFf,KAAK,EAAE,CAACC,MAAM,CAACC,QAAQ,EAAEE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEJ,KAAK,CAAE;MACtCR,GAAG,EAAEA;IAAiC,GACtC;EAEN,CAAC,CAAC;EAEFF,kBAAkB,CAACgD,WAAW,GAAGjD,IAAI;EAErC,OAAOC,kBAAkB;AAC3B;AAEA,MAAMiD,WAAW,GAAGnD,wBAAwB,CAE1C,aAAa,CAAC;AAChB,MAAMoD,WAAW,GAAGpD,wBAAwB,CAAiB,aAAa,CAAC;AAE3E,SAASd,YAAY,EAAEiE,WAAW,EAAEC,WAAW;AAE/C,MAAMvC,MAAM,GAAGhD,UAAU,CAACwF,MAAM,CAAC;EAC/BvC,QAAQ,EAAE;IACRwC,IAAI,EAAE,CAAC;IACPP,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdO,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"}